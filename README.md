![nearcade](https://socialify.git.ci/Naptie/nearcade/image?font=Raleway&forks=1&issues=1&language=1&name=1&owner=1&pattern=Circuit+Board&pulls=1&stargazers=1&theme=Auto)

**ä¸­æ–‡** | [English](README_en.md)

ä¸€ä¸ªå¸®åŠ©ç©å®¶å¯»æ‰¾æœºå…å¹¶ä¸ç¤¾ç¾¤å»ºç«‹è”ç³»çš„ç½‘ç«™ã€‚åœ¨è¿™é‡Œï¼Œä¸ä»…å¯ä»¥æ‰¾åˆ°è·æ‚¨æœ€è¿‘çš„æœºå…ï¼Œè¿˜å¯ä»¥åŠ å…¥é«˜æ ¡ç¤¾å›¢ã€å‚ä¸ç¤¾åŒºè®¨è®ºã€‚

æœ‰å…³ç½‘ç«™çš„é—®é¢˜ç­”ç–‘ã€æ•°æ®çº æ­£ã€åŠŸèƒ½å»ºè®®ç­‰è¯·åŠ å…¥ QQ ç¾¤è¿›è¡Œäº¤æµã€‚

<img src="static/group-chat-qq.jpg" alt="nearcade QQ äº¤æµç¾¤äºŒç»´ç " width="350"/>

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ğŸ¯ åŸºäºä½ç½®çš„å‘ç°

- **æˆ‘çš„ä½ç½®**: ä½¿ç”¨ GPS æŸ¥æ‰¾æ‚¨å½“å‰ä½ç½®é™„è¿‘çš„è¡—æœºå…ã€‚
- **é«˜æ ¡æœç´¢**: æœç´¢ç‰¹å®šé«˜æ ¡å’Œæ ¡åŒºé™„è¿‘çš„è¡—æœºå…ã€‚
- **åœ°å›¾é€‰ç‚¹**: åœ¨äº¤äº’å¼åœ°å›¾ä¸Šé€‰æ‹©ä»»æ„ä½ç½®ã€‚
- **è‡ªå®šä¹‰åŠå¾„**: åœ¨ 1 è‡³ 30 å…¬é‡Œçš„åŠå¾„å†…è¿›è¡Œæœç´¢ã€‚

### ğŸ† æ ¡å›­æ’è¡Œ

- æŒ‰è¡—æœºå¯†åº¦å’Œæœºå°å¯ç”¨æ€§å¯¹é«˜æ ¡è¿›è¡Œæ’åã€‚
- æŒ‡æ ‡åŒ…æ‹¬åº—é“ºæ•°é‡ã€æ€»æœºå°æ•°å’ŒåŒºåŸŸå¯†åº¦ã€‚
- æä¾›æµè¡Œæ¸¸æˆçš„ä¸“é¡¹æ’åã€‚
- æ•°æ®æ¯æ—¥æ›´æ–°ï¼Œå¹¶æœ‰ 24 å°æ—¶ç¼“å­˜åˆ·æ–°æœºåˆ¶ã€‚

### ğŸ’¬ ç¤¾åŒºä¸ç¤¾äº¤

- **ç”¨æˆ·è´¦æˆ·**: æ”¯æŒä½¿ç”¨ QQã€Phiraã€osu!ã€GitHubã€Discord æˆ–å¾®è½¯è´¦æˆ·æ³¨å†Œã€‚
- **ç”¨æˆ·èµ„æ–™**: å…¬å¼€çš„ä¸ªäººä¸»é¡µï¼ŒåŒ…å«åŠ¨æ€ã€éšç§è®¾ç½®ç­‰ã€‚
- **é«˜æ ¡ç¤¾å›¢**: åˆ›å»ºå’ŒåŠ å…¥é«˜æ ¡ç¤¾å›¢ï¼Œå‚ä¸ç¤¾å›¢å†…éƒ¨çš„è®¨è®ºã€‚
- **ç¤¾åŒºå¸–å­**: åœ¨æ”¯æŒ Markdown ä¸ LaTeX çš„è®ºå›ä¸­åˆ†äº«åŠ¨æ€ã€æå‡ºé—®é¢˜å’Œè¯„è®ºã€‚
- **é€šçŸ¥ç³»ç»Ÿ**: è·å–å…³äºæ–°è¯„è®ºã€å›å¤å’Œç¤¾å›¢æ´»åŠ¨çš„é€šçŸ¥ã€‚

### ğŸ® æ”¯æŒçš„æ¸¸æˆ

- èˆèŒDX
- ä¸­äºŒèŠ‚å¥
- å¤ªé¼“ä¹‹è¾¾äºº
- éŸ³å¾‹ç‚«åŠ¨
- åå¡éŸ³èˆ

### ğŸ—ƒï¸ æ•°æ®é‡‡é›†

- å›½å†…æœºå…æ•°æ®ï¼ˆå†…åœ°ã€æ¸¯æ¾³å°ï¼‰é‡‡é›†è‡ª [BEMANICN å…¨å›½éŸ³æ¸¸åœ°å›¾](https://map.bemanicn.com/)ã€‚æµ·å¤–æœºå…æ•°æ®é‡‡é›†è‡ª [Zenius -I- vanisher.com](https://zenius-i-vanisher.com/v5.2/arcades.php)ã€‚
- å†…åœ°é«˜æ ¡åˆ—è¡¨æ¥è‡ª[æ•™è‚²éƒ¨](http://www.moe.gov.cn/jyb_xxgk/s5743/s5744/A03/202506/t20250627_1195683.html)ï¼›æ ¡åŒºåœ°ç†ä¿¡æ¯ä½¿ç”¨ [Naptie/cn-university-geocoder](https://github.com/Naptie/cn-university-geocoder) é‡‡é›†è‡ª[è…¾è®¯åœ°å›¾](https://lbs.qq.com/)ã€‚

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### å‰ç«¯æ¡†æ¶

- **SvelteKit**: å…¨æ ˆæ¡†æ¶ï¼Œæ”¯æŒ SSR/SPAã€‚
- **Svelte 5**: æœ€æ–°ç‰ˆæœ¬ï¼Œæ‹¥æœ‰å¢å¼ºçš„å“åº”å¼ç³»ç»Ÿã€‚
- **TypeScript**: å…¨ç¨‹æä¾›ç±»å‹å®‰å…¨ã€‚

### æ ·å¼ä¸ç•Œé¢

- **Tailwind CSS 4.0**: å·¥å…·ä¼˜å…ˆçš„ CSS æ¡†æ¶ã€‚
- **daisyUI**: ç”¨äº Tailwind çš„è¯­ä¹‰åŒ–ç»„ä»¶åº“ã€‚
- **Font Awesome**: å…¨é¢çš„å›¾æ ‡åº“ã€‚

### åç«¯ä¸æ•°æ®åº“

- **MongoDB**: åº”ç”¨ä¸»æ•°æ®åº“ã€‚
- **Auth.js (SvelteKitAuth)**: å¤„ç†ç”¨æˆ·è®¤è¯å’Œä¼šè¯ã€‚
- **æœåŠ¡ç«¯ API**: åŸºäº SvelteKit æ„å»ºçš„ RESTful ç«¯ç‚¹ã€‚

### åœ°å›¾ä¸å®šä½æœåŠ¡

- **é«˜å¾·åœ°å›¾ & è…¾è®¯åœ°å›¾**: åœ°å›¾æœåŠ¡é›†æˆã€‚
- **Geolocation API**: åŸºäºæµè§ˆå™¨çš„å®šä½æ£€æµ‹ã€‚

### å›½é™…åŒ–

- **Paraglide.js**: ç±»å‹å®‰å…¨çš„ i18n è§£å†³æ–¹æ¡ˆã€‚
- **åŸºäºæ¶ˆæ¯çš„ç¿»è¯‘**: ç»“æ„åŒ–çš„ç¿»è¯‘ä½“ç³»ã€‚

### å¼€å‘å·¥å…·

- **Vite**: é«˜æ€§èƒ½çš„æ„å»ºå·¥å…·å’Œå¼€å‘æœåŠ¡å™¨ã€‚
- **ESLint**: Svelte ç‰¹å®šçš„ä»£ç æ£€æŸ¥è§„åˆ™ã€‚
- **Prettier**: æ”¯æŒæ’ä»¶çš„ä»£ç æ ¼å¼åŒ–å·¥å…·ã€‚
- **pnpm**: å¿«é€Ÿã€é«˜æ•ˆçš„åŒ…ç®¡ç†å™¨ã€‚

## ğŸš€ å¼€å§‹ä½¿ç”¨

### ç¯å¢ƒè¦æ±‚

- Node.js 18+
- pnpm (æ¨è) æˆ– npm
- MongoDB å®ä¾‹
- é«˜å¾·åœ°å›¾ JS API å¯†é’¥å’Œç§˜å¯†
- è…¾è®¯åœ°å›¾ API å¯†é’¥
- Sentry DSN (å¯é€‰)
- OAuth æä¾›å•†çš„å‡­æ® (åŒ…æ‹¬ GitHub, Microsoft Entra ID, Discord, osu!, Phira, QQ)

### å®‰è£…æ­¥éª¤

1.  **å…‹éš†ä»“åº“:**

    ```bash
    git clone https://github.com/Naptie/nearcade.git
    cd nearcade
    ```

2.  **å®‰è£…ä¾èµ–:**

    ```bash
    pnpm install
    ```

3.  **è®¾ç½®ç¯å¢ƒå˜é‡:**

    åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»ºä¸€ä¸ª `.env` æ–‡ä»¶ã€‚

    **æ ¸å¿ƒé…ç½®:**

    ```env
    # åœ°å›¾æœåŠ¡
    PUBLIC_AMAP_KEY="your_amap_key"
    PUBLIC_TENCENT_MAPS_KEY="your_tencent_maps_key"
    PUBLIC_GOOGLE_MAPS_MAP_ID = "your_google_maps_map_id"
    PUBLIC_GOOGLE_MAPS_API_KEY = "your_google_maps_api_key"
    AMAP_SECRET="your_amap_secret"

    # æœåŠ¡å™¨é—´é€šè®¯å¯†é’¥ (ç”Ÿæˆä¸€ä¸ªéšæœºå­—ç¬¦ä¸²)
    SSC_SECRET="your_ssc_secret"

    # æ•°æ®åº“
    MONGODB_URI="mongodb://localhost:27017/?dbName=nearcade"

    # Auth å¯†é’¥ (ç”Ÿæˆä¸€ä¸ªéšæœºå­—ç¬¦ä¸²)
    AUTH_SECRET="your_random_auth_secret"
    ```

    **è®¤è¯æä¾›å•†:**

    ```env
    # GitHub
    AUTH_GITHUB_ID="your_github_oauth_id"
    AUTH_GITHUB_SECRET="your_github_oauth_secret"

    # Microsoft
    AUTH_MICROSOFT_ENTRA_ID_ID = "your_microsoft_entra_id_id"
    AUTH_MICROSOFT_ENTRA_ID_SECRET = "your_microsoft_entra_id_secret"
    AUTH_MICROSOFT_ENTRA_ID_ISSUER = "your_microsoft_entra_id_issuer"

    # Discord
    AUTH_DISCORD_ID="your_discord_oauth_id"
    AUTH_DISCORD_SECRET="your_discord_oauth_secret"

    # osu!
    AUTH_OSU_ID = "your_osu_oauth_id"
    AUTH_OSU_SECRET = "your_osu_oauth_secret"

    # Phira
    AUTH_PHIRA_ID = "your_phira_oauth_id"
    AUTH_PHIRA_SECRET = "your_phira_oauth_secret"

    # QQ
    AUTH_QQ_ID="your_qq_oauth_id"
    AUTH_QQ_SECRET="your_qq_oauth_secret"
    AUTH_QQ_PROXY="your_qq_redirect_proxy_url" # å¯é€‰çš„é‡å®šå‘ä»£ç†
    ```

    **IMAP ä¸ Redis é…ç½® (ç”¨äºåœ¨æ ¡ç”Ÿèµ„æ ¼éªŒè¯):**

    ```env
    IMAP_HOST = "imap.example.com"
    IMAP_PORT = "993"
    IMAP_USER = "your_imap_user@example.com"
    IMAP_PASSWORD = "your_imap_password"
    REDIS_URI = "redis://username:password@127.0.0.1:6379"
    ```

    **Firebase Cloud Messaging é…ç½®:**

    ```env
    # ä»¥ä¸‹å˜é‡äºŒé€‰ä¸€

    # Google æœåŠ¡è´¦å· JSON (ä½¿ç”¨ Base64 ç¼–ç )
    GSAK_BASE64="your_base64_content"

    # Firebase Cloud Messaging ä»£ç†
    FCM_PROXY="https://example.com/api/notifications/fcm/send"
    ```

    å…¶ä¸­ï¼Œæœ‰å…³ Firebase Cloud Messaging ä»£ç†ï¼Œè¯·å‚è€ƒ[è¯¥ç»ˆç»“ç‚¹](src/routes/api/notifications/fcm/send/+server.ts)ã€‚

4.  **å¯åŠ¨å¼€å‘æœåŠ¡å™¨:**

    ```bash
    pnpm dev
    ```

5.  **æ‰“å¼€æµè§ˆå™¨:**
    è®¿é—® `http://localhost:5173`

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
# æ„å»º Web åº”ç”¨
pnpm build

# é¢„è§ˆç”Ÿäº§ç‰ˆæœ¬
pnpm preview
```

## ğŸš¢ ä½¿ç”¨ Docker è¿è¡Œ

### ç¯å¢ƒè¦æ±‚

- å·²å®‰è£… **Docker** å’Œ **Docker Compose**ã€‚

### æ“ä½œæŒ‡å—

1.  **å…‹éš†ä»“åº“å¹¶è¿›å…¥é¡¹ç›®ç›®å½•ã€‚**

2.  **è®¾ç½®ç¯å¢ƒå˜é‡:**
    æŒ‰ç…§â€œå¼€å§‹ä½¿ç”¨â€éƒ¨åˆ†çš„è¯´æ˜åˆ›å»º `.env` æ–‡ä»¶ã€‚

3.  **æ„å»ºå¹¶å¯åŠ¨æœåŠ¡:**

    ```bash
    docker-compose up --build
    ```

4.  **è®¿é—®åº”ç”¨:**
    å®¹å™¨å¯åŠ¨åï¼Œåœ¨æµè§ˆå™¨ä¸­è®¿é—® `http://localhost:3000`ã€‚

### åœæ­¢ Docker å®¹å™¨

```bash
docker-compose down
```

---

## ğŸ¤ å‚ä¸è´¡çŒ®

æˆ‘ä»¬æ¬¢è¿å„ç§å½¢å¼çš„è´¡çŒ®ï¼æ¬¢è¿æäº¤ issues å’Œ pull requestsã€‚

### å¼€å‘å‡†åˆ™

- éµå¾ª TypeScript æœ€ä½³å®è·µã€‚
- ä½¿ç”¨ Prettier è¿›è¡Œä»£ç æ ¼å¼åŒ–ã€‚
- ç¼–å†™æœ‰æ„ä¹‰çš„æäº¤ä¿¡æ¯ã€‚
- å……åˆ†æµ‹è¯•æ‚¨çš„æ›´æ”¹ã€‚

## â­ æ˜Ÿæ ‡å†å²

[![Stargazers over time](https://starchart.cc/Naptie/nearcade.svg?variant=adaptive)](https://starchart.cc/Naptie/nearcade)

## ğŸ“„ å¼€æºè®¸å¯

æœ¬é¡¹ç›®åŸºäº [Mozilla Public License 2.0](LICENSE) å¼€æºã€‚
